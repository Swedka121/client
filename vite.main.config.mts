import { defineConfig } from "vite";

// https://vitejs.dev/config
export default defineConfig({
  build: {
    // üí° –î–æ–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –¥–ª—è –∑–±—ñ—Ä–∫–∏ —è–∫ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ (–¥–ª—è Main Process)
    lib: {
      // –í–∫–∞–∂—ñ—Ç—å –≤—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª –≤–∞—à–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É
      entry: "src/main.ts", // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —Ñ–∞–∫—Ç–∏—á–Ω–∏–π –≤—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª

      // üö® –ì–æ–ª–æ–≤–Ω–∏–π –∫—Ä–æ–∫: –í–∏–∑–Ω–∞—á–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç —è–∫ CommonJS
      formats: ["cjs"],

      // –í–∏–∑–Ω–∞—á–∏—Ç–∏ —ñ–º'—è –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª—É –∑ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º .cjs
      fileName: (format) => `main.${format}`, // –¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å main.cjs
    },
    outDir: ".vite/build", // –ö—É–¥–∏ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –±–∞–Ω–¥–ª
    rollupOptions: {
      external: ["keytar"], // –ó–∞–ª–∏—à–∞—î–º–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
    },
  },
});
