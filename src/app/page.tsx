import ContactForm from "@/components/ContactForm";
import NewsConatiner from "@/components/NewsComp/NewsContainer";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import Container from "@/components/ui/container";
import {
  HomeIcon,
  Mail,
  Phone,
  CircleQuestionMark,
  ImageIcon,
  Newspaper,
} from "lucide-react";
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar";
import {
  NavigationMenu,
  NavigationMenuLink,
} from "@/components/ui/navigation-menu";
import LoginButton from "@/components/LoginComp/LoginButton";
import Image from "next/image";
import { Metadata } from "next";
import axios from "axios";
import { blogTableContent } from "../../stores/blogsTableStore";

export const metadata: Metadata = {
  title: "Lyzeum ‚Ññ23",
  description: "Site of Lyzeum ‚Ññ23 of Zhytomyr",
  keywords: ["Lyzeum", "Blogs", "Zhytomyr"],
};
// import * as uuid from "uuid";

async function getBlogs() {
  const data = (
    await axios
      .get("/blog/", {
        baseURL: process.env.NEXT_PUBLIC_BACKEND_URL,
      })
      .catch(() => {
        return { data: [] };
      })
  ).data as { _doc: blogTableContent }[];
  while (data.length <= 8) {
    console.log("Add!");
    data.push({
      _doc: {
        _id: "none",
        title: "–¶–µ—ó –Ω–æ–≤–∏–Ω–∏ —â–µ –Ω–µ–º–∞—î",
        description: "–û–ø–∏—Å –¥–ª—è –Ω–æ–≤–∏–Ω–∏ —â–æ –Ω–µ–º–∞—î ?_?",
        author: { username: "–ù–µ–≤—ñ–¥–æ–º–∏–π", avatar: "" },
        avatar:
          "https://i.fbcd.co/products/resized/resized-750-500/37-0a622f4a64fea4d65ea67779289cafdf1e36d2422807ca40e3798db4c9553910.jpg",
        comments: 0,
        content: [],
      },
    });
  }
  return data.map((el) => ({ ...el._doc }));
}

export default async function Home() {
  const blogs = await getBlogs();
  return (
    <>
      <header className="mt-[50px] fixed w-[100%]">
        <div className="w-[90%] m-auto">
          <Card>
            <CardContent className="flex flex-row itrems-center gap-[50px]">
              <div className="flex flex-row itrems-center gap-[10px]">
                <p className="font-[Montserrat] text-lg">Lyzeum 23</p>
                <Avatar>
                  <AvatarImage src="/assets/logo.png"></AvatarImage>
                  <AvatarFallback>L</AvatarFallback>
                </Avatar>
              </div>
              <NavigationMenu className="flex flex-row gap-[10px]">
                <NavigationMenuLink
                  className="flex flex-row itrems-center gap-[10px]"
                  href="/"
                >
                  <HomeIcon className="size-[1.3rem]" /> Home
                </NavigationMenuLink>
                <NavigationMenuLink
                  className="flex flex-row itrems-center gap-[10px]"
                  href="/#about"
                >
                  <CircleQuestionMark className="size-[1.3rem]" /> About
                </NavigationMenuLink>
                <NavigationMenuLink
                  className="flex flex-row itrems-center gap-[10px]"
                  href="/#contacts"
                >
                  <Phone className="size-[1.3rem]" /> Contacts
                </NavigationMenuLink>
                <NavigationMenuLink
                  className="flex flex-row itrems-center gap-[10px]"
                  href="/blog"
                >
                  <Newspaper className="size-[1.3rem]" /> Blog
                </NavigationMenuLink>
                <NavigationMenuLink
                  className="flex flex-row itrems-center gap-[10px]"
                  href="/gallery"
                >
                  <ImageIcon className="size-[1.3rem]" /> Gallery
                </NavigationMenuLink>
              </NavigationMenu>
              <LoginButton />
            </CardContent>
          </Card>
        </div>
      </header>
      <main className="flex flex-col row-start-2 itrems-center sm:itrems-start">
        <Container>
          <section className="w-full h-[100vh] flex items-center justify-center flex-row ">
            <div className="w-1/2 flex justify-center itrems-center">
              <Card className="w-[15vw] h-auto font-[Montserrat]">
                <CardContent className="flex flex-col justify-between gap-[30px]">
                  <h3 className="text-[1.5rem]/[1.5rem] font-bold">
                    –í—ñ—Ç–∞—î–º–æ –≤–∞—Å –Ω–∞ —Å–∞–π—Ç—ñ –õ—ñ—Ü–µ—é ‚Ññ23 –º. –ñ–∏—Ç–æ–º–∏—Ä–∞
                  </h3>
                  <p className="w-full break-keep text-[0.8rem]">
                    –ú–∏ —Ä–∞–¥—ñ –±–∞—á–∏—Ç–∏ –≤–∞—Å –Ω–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–º—É —Å–∞–π—Ç—ñ –Ω–∞—à–æ–≥–æ –ª—ñ—Ü–µ—é! –¢—É—Ç –≤–∏
                    –∑–Ω–∞–π–¥–µ—Ç–µ —Å–≤—ñ–∂—ñ –Ω–æ–≤–∏–Ω–∏, –∫–æ—Ä–∏—Å–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ
                    –∂–∏—Ç—Ç—è –Ω–∞—à–æ—ó —à–∫—ñ–ª—å–Ω–æ—ó —Ä–æ–¥–∏–Ω–∏.
                    <br />
                    <br />
                    üìå –ë–ª–æ–≥–∏ –∑ –∞–∫—Ç—É–∞–ª—å–Ω–∏–º–∏ –Ω–æ–≤–∏–Ω–∞–º–∏ —Ç–∞ –ø–æ–¥—ñ—è–º–∏ –ª—ñ—Ü–µ—é
                    <br />
                    <br />
                    üì∏ –£ –ì–∞–ª–µ—Ä–µ—ó –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ñ–æ—Ç–æ –∑ –Ω–∞–π—è—Å–∫—Ä–∞–≤—ñ—à–∏—Ö
                    –ø–æ–¥—ñ–π —Ç–∞ –∑–∞—Ö–æ–¥—ñ–≤ –ª—ñ—Ü–µ—é.
                    <br />
                    <br />
                    ‚úâÔ∏è –ê –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ–æ—Ä–º–∏ –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –∑–≤‚Äô—è–∑–∫—É –≤–∏ –∑–∞–≤–∂–¥–∏ –º–æ–∂–µ—Ç–µ
                    –Ω–∞–ø–∏—Å–∞—Ç–∏ –Ω–∞–º, –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è —á–∏ –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è
                    –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—è–º–∏.
                    <br />
                    <br />
                    –†–∞–∑–æ–º –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –ø—Ä–æ—Å—Ç—ñ—Ä –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è, —Ä–æ–∑–≤–∏—Ç–∫—É —Ç–∞
                    –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è!
                  </p>
                  <Button>–ù–∞–ø–∏—Å–∞—Ç–∏</Button>
                </CardContent>
              </Card>
            </div>
            <div className="w-1/2 h-full flex items-center justify-center border-l-[20] border-(--foreground)">
              <Image
                className="w-1/2 h-full absolute z-[-10] right-[-20] brightness-60 rounded-l-[50]"
                src={"/assets/main.jpg"}
                width={500}
                height={600}
                alt="main"
              ></Image>
              <div className="w-1/2 h-full absolute right-0 z-[-11] bg-(--foreground)"></div>
              <h2 className="w-full text-[19rem]/[18rem] tracking-tight pl-10 text-white">
                –õ–Ü–¶–ï–ô 23 <br /> –º. –ñ–ò–¢–û–ú–ò–†–ê
              </h2>
            </div>

            {/* <Object1 /> */}
          </section>
        </Container>
        <section
          className="bg-(--foreground) w-full h-[100vh] flex flex-row"
          id="about"
        >
          <div className="bg-white w-1/2 h-full flex justify-center items-center">
            <Image
              src={"/assets/ill-1.jpg"}
              alt="ill"
              width={700}
              height={700}
              className="w-3/4 h-auto"
            />
          </div>
          <div className="w-1/2 h-full flex flex-col items-center justify-center">
            <h3 className="text-white font-[Conthic] text-[5rem]/[5rem]">
              –ü–†–û –ù–ê–°
            </h3>
            <p className="w-1/2 h-auto text-white font-[Montserrat] text-center mt-5">
              –õ—ñ—Ü–µ–π ‚Ññ23 –º. –ñ–∏—Ç–æ–º–∏—Ä–∞ ‚Äî —Ü–µ —Å—É—á–∞—Å–Ω–∏–π –Ω–∞–≤—á–∞–ª—å–Ω–∏–π –∑–∞–∫–ª–∞–¥, –¥–µ
              –ø–æ—î–¥–Ω—É—é—Ç—å—Å—è —Ç—Ä–∞–¥–∏—Ü—ñ—ó —Ç–∞ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó. –ú–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —É–º–æ–≤–∏ –¥–ª—è
              –≤—Å–µ–±—ñ—á–Ω–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É —É—á–Ω—ñ–≤, —ó—Ö–Ω—ñ—Ö —Ç–∞–ª–∞–Ω—Ç—ñ–≤ —Ç–∞ –∑–¥—ñ–±–Ω–æ—Å—Ç–µ–π.
              <br />
              <br />
              –£ –ª—ñ—Ü–µ—ó –Ω–∞–≤—á–∞—é—Ç—å—Å—è –¥–æ–ø–∏—Ç–ª–∏–≤—ñ, —Ç–≤–æ—Ä—á—ñ —Ç–∞ –∞–∫—Ç–∏–≤–Ω—ñ –¥—ñ—Ç–∏, —è–∫–∏—Ö
              –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö –ø–µ–¥–∞–≥–æ–≥—ñ–≤. –ù–∞—à—ñ —É—á–Ω—ñ –±–µ—Ä—É—Ç—å —É—á–∞—Å—Ç—å —É
              –∫–æ–Ω–∫—É—Ä—Å–∞—Ö, –æ–ª—ñ–º–ø—ñ–∞–¥–∞—Ö, —Å–ø–æ—Ä—Ç–∏–≤–Ω–∏—Ö –∑–º–∞–≥–∞–Ω–Ω—è—Ö —ñ –¥–æ—Å—è–≥–∞—é—Ç—å –≤–∏—Å–æ–∫–∏—Ö
              —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.
              <br />
              <br />
              –ú–∏ –ø–∏—à–∞—î–º–æ—Å—è —Ç–µ–ø–ª–∏–º —Ç–∞ –¥—Ä—É–∂–Ω—ñ–º —à–∫—ñ–ª—å–Ω–∏–º —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ–º, –∞–¥–∂–µ –ª—ñ—Ü–µ–π ‚Äî
              —Ü–µ –Ω–µ –ª–∏—à–µ –º—ñ—Å—Ü–µ –Ω–∞–≤—á–∞–Ω–Ω—è, –∞ –π –ø—Ä–æ—Å—Ç—ñ—Ä –¥–ª—è —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è, —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ
              —Ç–∞ –Ω–æ–≤–∏—Ö —ñ–¥–µ–π.
              <br />
              <br />
            </p>
            <h3 className="text-white font-[Conthic] text-[5rem]/[5rem] mt-15">
              –î–ï –ú–ò –ó–ù–ê–•–û–î–ò–ú–û–°–¨?
            </h3>
            <iframe
              className="mt-5 w-5/6 h-[40vh]"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2550.979945031852!2d28.664012277571775!3d50.25495885141906!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x472c65910a6bf14f%3A0x8cbd7bb491052f7b!2z0JbQuNGC0L7QvNC40YDRgdGM0LrQsCDQvNGW0YHRjNC60LAg0LPRg9C80LDQvdGW0YLQsNGA0L3QsCDQs9GW0LzQvdCw0LfRltGPIOKEljIzINGW0LwuINCcLiDQntGH0LXRgNC10YLQsA!5e0!3m2!1suk!2sua!4v1757603187494!5m2!1suk!2sua"
              allowFullScreen={false}
              loading="lazy"
              referrerPolicy="no-referrer-when-downgrade"
            ></iframe>
            <p className="text-[0.7rem] font-[Montserrat] text-white mt-1">
              –≤—É–ª–∏—Ü—è –ë–æ—Ä–∏—Å–∞ –õ—è—Ç–æ—à–∏–Ω—Å—å–∫–æ–≥–æ, 14, –ñ–∏—Ç–æ–º–∏—Ä, –ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∞ –æ–±–ª–∞—Å—Ç—å,
              10014
            </p>
          </div>
        </section>
        <section className="w-full h-[100vh] bg-(--foreground)">
          <Container>
            <h3 className="text-[6rem] font-[Conthic] text-white mt-5">
              –ù–ê–®–Ü –ù–û–í–ò–ù–ò –¢–ê –ë–õ–û–ì–ò
            </h3>
            <NewsConatiner blogs={blogs} />
          </Container>
        </section>
        <section className="w-full h-[100vh] flex flex-row " id="contacts">
          <div className="w-1/2 h-full bg-(--foreground) p-8 flex flex-col items-center justify-center gap-[50px]">
            <ContactForm />
            <h2 className="w-full text-[18rem]/[18rem] text-center text-white">
              –ê–ë–û
            </h2>
            <Card className="w-1/2">
              <CardHeader>
                <CardTitle>–ü–æ–∑–≤–æ–Ω–∏ –Ω–∞–º –∞–±–æ –Ω–∞–ø–∏—à–∏ –Ω–∞ –ø–æ—à—Ç—É</CardTitle>
              </CardHeader>
              <CardContent>
                <p>
                  <span className="flex flex-row items-center gap-[20px]">
                    - <Phone className="w-[2rem]" /> +380 63 000 0000
                  </span>

                  <br />
                  <span className="flex flex-row items-center gap-[20px]">
                    - <Mail className="w-[2rem]" /> my.mail@gmail.com
                  </span>
                </p>
              </CardContent>
            </Card>
          </div>
          <div className="w-1/2 h-full flex items-center">
            <h2 className="w-1/2 text-[20rem]/[18rem]">
              –ù–ê–ü–ò–®–ò <br /> –ù–ê–ú
            </h2>
          </div>
        </section>
      </main>
      <footer className="row-start-3 flex gap-[24px] flex-wrap items-center justify-center"></footer>
    </>
  );
}
